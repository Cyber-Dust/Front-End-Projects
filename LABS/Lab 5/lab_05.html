<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Password Validator</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">

    <style>
        .rules {
            background-color: #FF0;
            margin: 10px 0px;
            padding: 10px;
        }
    </style>
</head>

<body>

    <div class="container-fluid">
        <div class="row">
            <h1 class="col-12 text-center mt-5">Password Validator</h1>
        </div>
        <!-- .row -->

        <div class="row mt-5">
            <div class="col-12 col-sm-5">
                <h3 class="mb-4">Password:</h3>
                <input type="text" name="" id="pass-input" class="form-control">
            </div>

            <div class="col-12 col-sm-7">
                <h3 class="mb-4">Validation Rules:</h3>
                <div id='empty' class="rules">1: Cannot be empty/blank.</div>
                <div id='length' class="rules">2: Must contain at least 5 characters.</div>
                <div id='special' class="rules">3: Must have at least one special character @ or #.</div>
                <div id='case' class="rules">4: Must contain upper AND lower case characters.</div>
                <div id='pass' class="rules">5: Cannot contain word 'pass' (case insensitive).</div>
            </div>
        </div>
        <!-- .row -->
    </div>
    <!-- .container-fluid -->
    <script>
        // WORKFLOW
        // Validate the password as users are typing each character (oninput).
        // Only use string operations from Lecture 06: Slide #6.
        // .length
        // .toLowerCase()
        // .toUpperCase()
        // .indexOf()
        // If a password rule fails, change background color of that rule to #E00 (red).
        // If a password rule passes, change background color of that rule to #0B0 (green).

        document.querySelector('#pass-input').oninput = function() {
            var validForm = true;
            var password = this.value;

            // password cannot be empty
            if (password.length == 0) {
                document.querySelector('#empty').style.background = '#E00';
            } else {
                document.querySelector('#empty').style.background = '#0B0';
            }
            // must contain at least 5 characters
            if (password.length >= 5) {
                document.querySelector('#length').style.background = '#0B0';
            } else {
                document.querySelector('#length').style.background = '#E00';
            }
            // Must have at least @ or #
            if (password.indexOf('@') == -1 && (password.indexOf('#') == -1)) {
                document.querySelector('#special').style.background = '#E00';
            } else {
                document.querySelector('#special').style.background = '#0B0';
            }
            // Must contain upper and lowercase
            if (password != password.toLowerCase() && password != password.toUpperCase()) {
                document.querySelector('#case').style.background = '#0B0';
            } else {
                document.querySelector('#case').style.background = '#E00';
            }
            // Cannot contain word 'pass' (case sensitive)
            // Need to fix THIS
            if (password.indexOf('pass')) {
                document.querySelector('#pass').style.background = '#0B0';
            } else {
                document.querySelector('#pass').style.background = '#E00';
            }
        }
    </script>
</body>

</html>